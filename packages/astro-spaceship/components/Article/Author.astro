---
import { useI18n } from '../../i18n';
import { isLegacyConfig } from '../../shell/utils/config';
import type { SpaceshipConfig, Author as TAuthor } from '../../types';

export type Props = {
  config: SpaceshipConfig;
  author?: TAuthor | undefined;
};

const { t } = useI18n(Astro);

const { author, config } = Astro.props;

const showAuthor = isLegacyConfig(config) ? config.displayOptions?.showAuthor !== false : config.features.article.author.enabled;

---
{
  author && showAuthor && (
    <span data-pagefind-weight="0" class="article-author">
      {t("article.author.name", { name: author.data.name })}
    </span>
  )
}
{
  author?.data.title && showAuthor && (
    <span data-pagefind-weight="0" class="article-author">{author.data.title}</span>
  )
}